!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t){e.exports=React},function(e,t){e.exports=ReactDOM},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(0)),a=n(r(1)),s=r(3);a.render(o.createElement(s.VideoDownload,null),document.getElementById("app"))},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(4)),s=o(r(0)),i=o(r(1));class l extends s.Component{constructor(e){super(e),this.handleFormats=this.handleFormats.bind(this),this.handleVidUrlChange=this.handleVidUrlChange.bind(this),this.formSubmit=this.formSubmit.bind(this),this.state={vidUrl:"https://www.youtube.com/watch?v=OMOGaugKpzs",formats:[{format:"Select Get Availabe Formats"}]}}handleVidUrlChange(){this.setState(()=>({vidUrl:this.state.vidUrl}))}handleFormats(e){e.preventDefault(),fetch("/video/formats",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vidUrl:this.state.vidUrl})}).then(e=>e.json()).then(e=>{console.log(e),this.setState(()=>({formats:e}))},e=>{console.log(e)})}formSubmit(e){e.preventDefault();let t=a.default.connect("localhost:3000");t.emit("video-download",JSON.stringify({vidUrl:this.state.vidUrl,formatCode:e.target.vidFormat.value})),t.on("video-progress",e=>{this.setState(()=>({progress:e,active:"active"}))}),t.on("video-done",()=>{this.setState(()=>({progress:100,active:"success"}))})}render(){return s.createElement("div",null,s.createElement("h1",null,"Download Video By URL"),s.createElement("form",{onSubmit:this.formSubmit,className:"ui form"},s.createElement("div",{className:"field"},s.createElement("label",{htmlFor:"vidUrl"},"Video URL:"),s.createElement("input",{type:"text",name:"vidUrl",id:"vidUrl",defaultValue:this.state.vidUrl,onChange:this.handleVidUrlChange})),s.createElement(u,{vidUrl:this.state.vidUrl,handleFormats:this.handleFormats,formats:this.state.formats}),s.createElement("p",null,s.createElement("input",{type:"submit",value:"Submit",id:"submit",className:"ui button"}))),s.createElement(d,{progress:this.state.progress,active:this.state.active}))}}t.VideoDownload=l;class u extends s.Component{constructor(e){super(e)}render(){return s.createElement("div",null,s.createElement("p",null," ",s.createElement("button",{type:"button",className:"ui button",onClick:this.props.handleFormats},"Get Available Formats")),s.createElement("label",{htmlFor:"vidFormat"},"Video Format:"),s.createElement("select",{name:"vidFormat",className:"fluid dropdown"},this.props.formats.map((e,t)=>s.createElement("option",{key:t,value:e.formatId},e.format," - ",e.filesize))))}}class d extends s.Component{constructor(e){super(e),this.state={progress:0,active:""}}render(){return s.createElement("div",null,s.createElement("div",{className:`ui indicating progress ${this.props.active}`,"data-percent":this.props.progress},s.createElement("div",{className:"bar",style:{transitionDuration:"300ms",width:this.props.progress+"%"}}),s.createElement("div",{className:"label"},this.props.progress,"% Complete")))}}i.render(s.createElement(function(){return s.createElement("div",null,s.createElement(l,null))},null),document.getElementById("app"))},function(e,t){e.exports=socket}]);
//# sourceMappingURL=main.js.map